{"version":3,"file":"js/compositionAPI.6f957a24.js","mappings":"iNACOA,MAAM,Q,gFAAXC,EAAAA,EAAAA,IAGM,MAHNC,EAGM,EADJC,EAAAA,EAAAA,IAAkBC,I,yfCkGtB,MAKMC,GAAYC,EAAAA,EAAAA,IAAI,GAChBC,GAAkBD,EAAAA,EAAAA,IAAI,CAAC,GACvBE,GAA0BF,EAAAA,EAAAA,IAAI,CAAC,GAC/BG,GAAcH,EAAAA,EAAAA,KAAI,IAAII,MAAOC,kBAC7BC,GAAWN,EAAAA,EAAAA,KAAI,GACfO,GAAoBP,EAAAA,EAAAA,IAAI,CAAC,GACzBQ,GAAoBR,EAAAA,EAAAA,IAAI,CAAC,GAGzBS,EAAqBA,KAGzBC,MAAM,0EACHC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJ,MAAMC,EAAWD,EAAKE,iBAEhBC,EAAqB,CACzBC,IAAKH,EAASG,IACdC,IAAKJ,EAASI,IACdC,IAAKL,EAASK,IACdC,IAAKN,EAASM,IACdC,IAAKP,EAASO,IACdC,IAAKR,EAASQ,IACdC,IAAKT,EAASS,IACdC,IAAKV,EAASU,IACdC,IAAKX,EAASW,IACdC,IAAKZ,EAASY,IACdC,IAAKb,EAASa,IACdC,IAAKd,EAASc,KAEhB5B,EAAgB6B,MAAQf,EACxBb,EAAwB4B,MAAQb,EAChCc,GAAsB,IAEvBC,OAAMC,IACLC,QAAQD,MAAM,uBAAwBA,EAAM,GAC5C,EAIAE,EAAcC,IAGlB,MAAMC,EAAe,CACnBnB,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,MAEDS,EAAcD,EAAaD,GACjC,OAAIE,EACK,+BAA+BA,QAE/B,EACT,EAIIC,EAAgBA,KACpBjC,EAASwB,MAAQU,OAAOC,YAAc,GAAG,EAIrCV,EAAuBA,KAC3B,MAAMW,EAAaC,OAAOC,QAAQ1C,EAAwB4B,OACpDe,EAAO,GACPC,EAAO,GACb,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAWM,OAAQD,IACjCA,EAAI,IAAM,EACZF,EAAKI,KAAKP,EAAWK,IAErBD,EAAKG,KAAKP,EAAWK,IAGzBxC,EAAkBuB,MAAQa,OAAOO,YAAYL,GAC7CrC,EAAkBsB,MAAQa,OAAOO,YAAYJ,EAAK,E,OAKpDK,EAAAA,EAAAA,KAAU,KACR1C,IACA8B,IACAC,OAAOY,iBAAiB,SAAUb,GAElCc,aAAY,KACV5C,IACAN,EAAY2B,OAAQ,IAAI1B,MAAOC,gBAAgB,GAC9C,KAAQ,KAKbiD,EAAAA,EAAAA,KAAgB,KACdd,OAAOe,oBAAoB,SAAUhB,EAAc,I,whFC3MrD,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QFIA,GACEC,KAAM,WACNC,WAAY,CACVC,WAAU,IACVC,eAAcA,IGXlB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://projet-vue-kaloi-angele/./src/views/CompositionAPI.vue","webpack://projet-vue-kaloi-angele/./src/components/CompositionAPI.vue","webpack://projet-vue-kaloi-angele/./src/components/CompositionAPI.vue?0412","webpack://projet-vue-kaloi-angele/./src/views/CompositionAPI.vue?3ad4"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- le composant CompositionAPI est importé et utilisé ici -->\r\n    <CompositionAPI />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport HelloWorld from '@/components/HelloWorld.vue'\r\nimport CompositionAPI from '@/components/CompositionAPI.vue'\r\n\r\nexport default {\r\n  name: 'HomeView',\r\n  components: {\r\n    HelloWorld,\r\n    CompositionAPI\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n\r\n  <div>\r\n    <div class=\"container\">\r\n      <img src=\"@/assets/logo.png\" alt=\"Logo\" width=\"100\" />\r\n      <div class=\"title\">\r\n        <h1>Bureau de change</h1>\r\n        <p>Exchange office</p>\r\n      </div>\r\n\r\n      <div class=\"montant-container\">\r\n        <div class=\"montant-xpf\">\r\n          Montant {{ amountXPF }} francs XPF\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"en-tete\">\r\n      <label for=\"xpf-amount\">Montant en XPF : </label>\r\n      <input type=\"number\" id=\"xpf-amount\" v-model.number=\"amountXPF\" min=\"0\" placeholder=\"Entrez un montant en XPF\" />\r\n    </div>\r\n\r\n    <div class=\"right-column\">\r\n      <!-- Affichage pour mobile (une seule colonne) -->\r\n      <div v-if=\"isMobile\">\r\n        <div class=\"currency-card-th\">\r\n          <div>\r\n            <p>Drapeau</p>\r\n            <h4>Pays</h4>\r\n            <p>Taux de change</p>\r\n            <p>Montant converti</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"currency-card\" v-for=\"(rate, currency) in filteredConversionRates\" :key=\"currency\">\r\n          <img :src=\"getFlagURL(currency)\" :alt=\"`Flag of ${currency}`\">\r\n          <div class=\"carte\">\r\n            <div class=\"data-carte\">\r\n              <h3>{{ currency }}</h3>\r\n              <p> {{ rate }}</p>\r\n              <p> {{ (rate * amountXPF) }}</p>\r\n            </div>\r\n            <span>Mise à jour {{ lastUpdated }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Affichage pour desktop (deux colonnes) -->\r\n      <div v-else class=\"columns-container\">\r\n        <div class=\"column\">\r\n          <div class=\"currency-card-th\">\r\n            <div>\r\n              <p>Drapeau</p>\r\n              <h4>Pays</h4>\r\n              <p>Taux de change</p>\r\n              <p>Montant converti</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"currency-card\" v-for=\"(rate, currency) in column1Currencies\" :key=\"currency\">\r\n            <img :src=\"getFlagURL(currency)\" :alt=\"`Flag of ${currency}`\">\r\n            <div class=\"carte\">\r\n              <div class=\"data-carte\">\r\n                <h3>{{ currency }}</h3>\r\n                <p> {{ rate }}</p>\r\n                <p> {{ (rate * amountXPF) }}</p>\r\n              </div>\r\n              <span>Mise à jour {{ lastUpdated }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <div class=\"currency-card-th\">\r\n            <div>\r\n              <p>Drapeau</p>\r\n              <h4>Pays</h4>\r\n              <p>Taux de change</p>\r\n              <p>Montant converti</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"currency-card\" v-for=\"(rate, currency) in column2Currencies\" :key=\"currency\">\r\n            <img :src=\"getFlagURL(currency)\" :alt=\"`Flag of ${currency}`\">\r\n            <div class=\"carte\">\r\n              <div class=\"data-carte\">\r\n                <h3>{{ currency }}</h3>\r\n                <p> {{ rate }}</p>\r\n                <p> {{ (rate * amountXPF) }}</p>\r\n              </div>\r\n              <span>Mise à jour {{ lastUpdated }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// Import des fonctions nécessaires de Vue.js pour la Composition API\r\n// ref: https://vuejs.org/api/reactivity-core.html#ref\r\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\r\n\r\n// Définition des props que le composant reçoit du parent\r\n// defineProps: https://vuejs.org/api/sfc-script-setup.html#defineprops\r\nconst props = defineProps({\r\n  msg: String // Prop pour le message d'accueil\r\n});\r\n\r\n// Déclaration des variables réactives avec ref()\r\nconst amountXPF = ref(1); // Montant en francs XPF, valeur initiale à 1\r\nconst conversionRates = ref({}); // Objet contenant les taux de conversion\r\nconst filteredConversionRates = ref({}); // Objet contenant les taux de conversion filtrés\r\nconst lastUpdated = ref(new Date().toLocaleString()); // Date de la dernière mise à jour, formatée en string\r\nconst isMobile = ref(false); // Booléen indiquant si l'écran est de type mobile\r\nconst column1Currencies = ref({}); // Objet contenant les devises de la colonne 1\r\nconst column2Currencies = ref({}); // Objet contenant les devises de la colonne 2\r\n\r\n// Fonction asynchrone pour récupérer les taux de change depuis l'API\r\nconst fetchExchangeRates = () => {\r\n  // Utilisation de l'API exchangerate-api.com pour obtenir les taux de change\r\n  // fetch API: https://developer.mozilla.org/fr/docs/Web/API/Fetch_API/Using_Fetch\r\n  fetch('https://v6.exchangerate-api.com/v6/1520648efe11018bdeeeb7cd/latest/XPF')\r\n    .then(response => response.json()) // Conversion de la réponse en JSON\r\n    .then(data => {\r\n      const allRates = data.conversion_rates; // Extraction des taux de conversion\r\n      // Sélection des devises à afficher\r\n      const selectedCurrencies = {\r\n        AUD: allRates.AUD,\r\n        NZD: allRates.NZD,\r\n        CAD: allRates.CAD,\r\n        USD: allRates.USD,\r\n        FJD: allRates.FJD,\r\n        SGD: allRates.SGD,\r\n        THB: allRates.THB,\r\n        CHF: allRates.CHF,\r\n        EUR: allRates.EUR,\r\n        GBP: allRates.GBP,\r\n        JPY: allRates.JPY,\r\n        VUV: allRates.VUV\r\n      };\r\n      conversionRates.value = allRates; // Mise à jour des taux de conversion\r\n      filteredConversionRates.value = selectedCurrencies; // Mise à jour des taux de conversion filtrés\r\n      distributeCurrencies(); // Distribution des devises dans les colonnes\r\n    })\r\n    .catch(error => {\r\n      console.error('Error fetching data:', error); // Gestion des erreurs\r\n    });\r\n};\r\n\r\n// Fonction pour obtenir l'URL du drapeau d'un pays à partir du code de la devise\r\nconst getFlagURL = (currency) => {\r\n  // Mapping des codes de devise aux codes de pays ISO 3166-1 alpha-2\r\n  // ISO 3166-1 alpha-2: https://fr.wikipedia.org/wiki/ISO_3166-1_alpha-2\r\n  const countryCodes = {\r\n    AUD: 'au',\r\n    NZD: 'nz',\r\n    CAD: 'ca',\r\n    USD: 'us',\r\n    FJD: 'fj',\r\n    SGD: 'sg',\r\n    THB: 'th',\r\n    CHF: 'ch',\r\n    EUR: 'eu',\r\n    GBP: 'gb',\r\n    JPY: 'jp',\r\n    VUV: 'vu'\r\n  };\r\n  const countryCode = countryCodes[currency]; // Récupération du code de pays\r\n  if (countryCode) {\r\n    return `https://flagcdn.com/144x108/${countryCode}.png`; // Retourne l'URL du drapeau\r\n  } else {\r\n    return ''; // Retourne une chaîne vide si le code de pays n'est pas trouvé\r\n  }\r\n};\r\n\r\n// Fonction pour déterminer si l'écran est de type mobile\r\nconst checkIfMobile = () => {\r\n  isMobile.value = window.innerWidth <= 768; // Détermine si la largeur de l'écran est inférieure ou égale à 768px\r\n};\r\n\r\n// Fonction pour distribuer les devises dans les deux colonnes\r\nconst distributeCurrencies = () => {\r\n  const currencies = Object.entries(filteredConversionRates.value); // Conversion de l'objet en tableau de paires clé/valeur\r\n  const col1 = []; // Tableau pour la colonne 1\r\n  const col2 = []; // Tableau pour la colonne 2\r\n  for (let i = 0; i < currencies.length; i++) {\r\n    if (i % 2 === 0) {\r\n      col1.push(currencies[i]); // Ajout de la devise à la colonne 1 si l'index est pair\r\n    } else {\r\n      col2.push(currencies[i]); // Ajout de la devise à la colonne 2 si l'index est impair\r\n    }\r\n  }\r\n  column1Currencies.value = Object.fromEntries(col1); // Mise à jour des devises de la colonne 1\r\n  column2Currencies.value = Object.fromEntries(col2); // Mise à jour des devises de la colonne 2\r\n};\r\n\r\n// Cycle de vie du composant: onMounted (après le montage du composant)\r\n// onMounted: https://vuejs.org/api/composition-api-lifecycle.html#onmounted\r\nonMounted(() => {\r\n  fetchExchangeRates(); // Récupération initiale des taux de change\r\n  checkIfMobile(); // Détermination initiale du type d'écran\r\n  window.addEventListener('resize', checkIfMobile); // Ajout d'un écouteur d'événement pour détecter les changements de taille de l'écran\r\n  // Mise à jour des taux de change toutes les heures\r\n  setInterval(() => {\r\n    fetchExchangeRates(); // Récupération des taux de change\r\n    lastUpdated.value = new Date().toLocaleString(); // Mise à jour de la date de dernière mise à jour\r\n  }, 3600000); // 1 heure = 3600000 millisecondes\r\n});\r\n\r\n// Cycle de vie du composant: onBeforeUnmount (avant le démontage du composant)\r\n// onBeforeUnmount: https://vuejs.org/api/composition-api-lifecycle.html#onbeforeunmount\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('resize', checkIfMobile); // Suppression de l'écouteur d'événement resize\r\n});\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  background-color: rgb(10, 32, 77);\r\n  color: white;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: left;\r\n  gap: 20px;\r\n  align-items: center;\r\n\r\n  color: white;\r\n  padding: 20px;\r\n}\r\n\r\n.title {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  text-align: left;\r\n  margin: 0 20px;\r\n  border: rgba(255, 255, 255, 0.5);\r\n  border-left: 1px solid;\r\n  padding: 20px;\r\n  width: 50%;\r\n}\r\n\r\n.title h1,\r\n.title p {\r\n  color: white;\r\n  margin: 0;\r\n}\r\n\r\n.montant-container {\r\n  display: flex;\r\n  justify-content: right;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 20px;\r\n}\r\n\r\n.montant-xpf {\r\n  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n  text-transform: uppercase;\r\n  color: white;\r\n  margin: 20px;\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n\r\n.en-tete {\r\n  color: white;\r\n  display: flex;\r\n  justify-content: right;\r\n  gap: 10px;\r\n  align-items: center;\r\n  margin: 20px;\r\n}\r\n\r\ninput {\r\n  width: 5%;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background-color: #f0f0f0;\r\n  color: #333;\r\n}\r\n\r\n.right-column {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.columns-container {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  flex: 1;\r\n  padding: 10px;\r\n}\r\n\r\n.currency-card-th {\r\n  font-family: \"Verdana\";\r\n  font-weight: bold;\r\n  color: white;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 10px;\r\n}\r\n\r\n.currency-card-th div {\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  flex-direction: row;\r\n}\r\n\r\n.currency-card {\r\n  padding: 1.5rem;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.currency-card img {\r\n  width: 40px;\r\n  height: 30px;\r\n  margin: 20px 30px;\r\n  padding: 20px;\r\n}\r\n\r\n.container-cards {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  align-items: stretch;\r\n}\r\n\r\n.carte {\r\n  width: 100%;\r\n  background: #2E4167;\r\n  background: radial-gradient(circle, rgba(46, 65, 103, 1) 24%, rgb(69, 90, 132) 60%, rgba(255, 255, 255, 0.1) 80%, rgba(255, 255, 255, 0) 100%);\r\n  background-size: 200% 200%; /* Augmente la taille du dégradé */\r\n  color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n  animation: gradientShift 5s ease infinite; /* Animation du dégradé */\r\n}\r\n\r\n.carte span {\r\n  text-align: right;\r\n  font-size: 0.8rem;\r\n  color: #ccc;\r\n}\r\n\r\n.data-carte {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: large;\r\n  font-weight: bold;\r\n}\r\n\r\n.carte h3 {\r\n  padding: 0 20px;\r\n}\r\n\r\n/* Media query pour les écrans de petite taille (mobile) */\r\n@media (max-width: 768px) {\r\n  .right-column {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .columns-container {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .column {\r\n    width: 100%;\r\n    border-left: none;\r\n  }\r\n\r\n  .currency-card-th {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n/* Définition de l'animation du dégradé */\r\n@keyframes gradientShift {\r\n  0% {\r\n    background-position: 0% 50%;\r\n  }\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n}\r\n</style>","import script from \"./CompositionAPI.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CompositionAPI.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CompositionAPI.vue?vue&type=style&index=0&id=6adb3322&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6adb3322\"]])\n\nexport default __exports__","import { render } from \"./CompositionAPI.vue?vue&type=template&id=56ab45a0\"\nimport script from \"./CompositionAPI.vue?vue&type=script&lang=js\"\nexport * from \"./CompositionAPI.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_CompositionAPI","amountXPF","ref","conversionRates","filteredConversionRates","lastUpdated","Date","toLocaleString","isMobile","column1Currencies","column2Currencies","fetchExchangeRates","fetch","then","response","json","data","allRates","conversion_rates","selectedCurrencies","AUD","NZD","CAD","USD","FJD","SGD","THB","CHF","EUR","GBP","JPY","VUV","value","distributeCurrencies","catch","error","console","getFlagURL","currency","countryCodes","countryCode","checkIfMobile","window","innerWidth","currencies","Object","entries","col1","col2","i","length","push","fromEntries","onMounted","addEventListener","setInterval","onBeforeUnmount","removeEventListener","__exports__","name","components","HelloWorld","CompositionAPI","render"],"sourceRoot":""}